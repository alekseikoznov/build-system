# Тестовое задание: Билд-система

## Описание:

Для разработки игр требуется билд-система, которая автоматизирует и ускоряет рутинные процессы.  
Система оперирует понятиями “задача” и “билд”.

Задача - это то, что нужно сделать. Задача описывается уникальным именем (`name`) и ее зависимостями (`dependencies`) от других задач. Задача не может быть выполнена раньше, чем ее зависимости. 
Описания задач задаются в yaml-файле `tasks.yaml`.

Билд – это группа задач, объединенных функционально. Билд описывается уникальным именем (`name`) и списком задач (`tasks`).
Описания билдов задаются в yaml-файле `builds.yaml`.

**Файлы с задачами и билдами хранятся в директории _app/builds_.**

### Тесты:

В директории app/tests хранится файл с написанными тестами.  
Запуск тестов происходит командой `pytest` из корневой директории с включенным виртуальным окружением.

### Эндпоинты:

У микросервиса имеется эндпоинт:
  -  `/get_tasks` - принимает POST-запрос, который содержит имя билда.

Пример запроса:
```
{
  "build": "make_tests"
}
```
В качестве ответа к запросу возвращается JSON-объект со списком задач, отсортированных с учетом их зависимостей.

Пример ответа:
```
[
    "compile_exe",
    "pack_build"
]
```

### Документация проекта:

После запуска сервиса докуменация доступна по адресам `/docs` и `/redoc`

## Технологии проекта:

- Python 3.9
- FastAPI 0.78.0
- Pydantic 1.10.13
- Uvicorn 0.17.6
- Pytest 7.4.3
- Mypy 1.7.1
- Black 23.11.0
- Isort 5.12.0

## Установка:

Для установки проекта на локальной машине необходимо:

1. Клонировать репозиторий и перейти в него в командной строке:
```
git clone git@github.com:alekseikoznov/build-system.git
```
```
cd build-system
```
2. Cоздать и активировать виртуальное окружение:
```
python -m venv venv
```
* Если у вас Linux/macOS
    ```
    source venv/bin/activate
    ```
* Если у вас Windows
    ```
    source venv/scripts/activate
    ```
3. Обновить менеджер пакетов pip:
```
python -m pip install --upgrade pip
```
4. Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
5. Запустить приложение:
```
uvicorn app.main:app
```
6. После успешного запуска проект станет доступен по адресу: http://127.0.0.1:8000/
